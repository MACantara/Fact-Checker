{% extends "base.html" %}

{% block title %}Fake News Detection - Philippine News Search Engine{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- Hero Section -->
    <div class="text-center mb-12">
        <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-6">
            <i class="bi bi-shield-check text-white text-4xl"></i>
        </div>
        <h1 class="text-4xl font-bold text-gray-900 mb-4">
            Fake News Detection
        </h1>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
            Use our advanced AI-powered hybrid system to analyze news articles and determine if they are likely to be fake or real. 
            Our system combines DistilBERT transformer model with traditional machine learning for optimal accuracy and reliability.
        </p>
    </div>

    <!-- Feature Cards -->
    <div class="grid md:grid-cols-3 gap-8 mb-12">
        <div class="bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow duration-300 border border-gray-100">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full mb-6">
                <i class="bi bi-robot text-white text-2xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3 text-gray-900">Hybrid AI System</h3>
            <p class="text-gray-600 leading-relaxed">
                DistilBERT transformer model with logistic regression fallback for maximum accuracy and reliability.
            </p>
        </div>
        
        <div class="bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow duration-300 border border-gray-100">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mb-6">
                <i class="bi bi-lightning-charge text-white text-2xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3 text-gray-900">GPU-Accelerated</h3>
            <p class="text-gray-600 leading-relaxed">
                Optimized for NVIDIA GPUs with automatic fallback for consistent performance on any hardware.
            </p>
        </div>
        
        <div class="bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow duration-300 border border-gray-100">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full mb-6">
                <i class="bi bi-globe text-white text-2xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3 text-gray-900">URL Analysis</h3>
            <p class="text-gray-600 leading-relaxed">
                Analyze articles directly from URLs - we'll extract and analyze the content automatically.
            </p>
        </div>
    </div>

    <!-- Quick Start Options -->
    <div class="bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-8 mb-12 border border-blue-200">
        <h2 class="text-2xl font-bold text-center mb-8 text-gray-900">Start Analyzing News</h2>
        
        <div class="text-center">
            <a href="{{ url_for('fake_news.check') }}" 
               class="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl p-8 text-center transition-all duration-300 inline-block shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4">
                    <i class="bi bi-file-text text-black text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold mb-3">Analyze Article</h3>
                <p class="text-blue-100">Paste text or enter a URL to check if news content is fake or real</p>
            </a>
        </div>
    </div>

    <!-- Recent Statistics -->
    <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100">
        <div class="flex items-center mb-6">
            <i class="bi bi-bullseye text-2xl text-blue-600 mr-3"></i>
            <h2 class="text-xl font-bold text-gray-900">Model Performance</h2>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
            <div class="p-4">
                {% if model_info and model_info.get('primary_model') and model_info.primary_model.get('metadata', {}).get('accuracy') %}
                    <div class="text-3xl font-bold text-blue-600 mb-2">{{ "%.1f"|format(model_info.primary_model.metadata.accuracy * 100) }}%</div>
                {% elif model_info and model_info.get('models_available') and model_info.models_available %}
                    {% for model in model_info.models_available %}
                        {% if model.get('metadata', {}).get('accuracy') %}
                            <div class="text-3xl font-bold text-blue-600 mb-2">{{ "%.1f"|format(model.metadata.accuracy * 100) }}%</div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <div class="text-3xl font-bold text-blue-600 mb-2">--</div>
                {% endif %}
                <div class="text-sm text-gray-600 font-medium">Accuracy</div>
            </div>
            <div class="p-4">
                <div class="text-3xl font-bold text-green-600 mb-2">72K+</div>
                <div class="text-sm text-gray-600 font-medium">Training Articles</div>
            </div>
            <div class="p-4">
                {% if model_info and model_info.get('active_model') == 'distilbert' %}
                    <div class="text-3xl font-bold text-purple-600 mb-2">66M</div>
                    <div class="text-sm text-gray-600 font-medium">Parameters</div>
                {% else %}
                    <div class="text-3xl font-bold text-purple-600 mb-2">10K+</div>
                    <div class="text-sm text-gray-600 font-medium">Features</div>
                {% endif %}
            </div>
            <div class="p-4">
                {% if model_info and model_info.get('active_model') == 'distilbert' %}
                    <div class="text-3xl font-bold text-orange-600 mb-2">DistilBERT</div>
                    <div class="text-sm text-gray-600 font-medium">AI Model</div>
                {% else %}
                    <div class="text-3xl font-bold text-orange-600 mb-2">Logistic</div>
                    <div class="text-sm text-gray-600 font-medium">Regression</div>
                {% endif %}
            </div>
        </div>
        
        <!-- Model Status Banner -->
        {% if model_info %}
        <div class="mt-6 p-4 rounded-lg 
            {% if model_info.get('active_model') == 'distilbert' %}
                bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200
            {% elif model_info.get('active_model') == 'logistic_regression' %}
                bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200
            {% else %}
                bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200
            {% endif %}
        ">
            <div class="flex items-center justify-center">
                {% if model_info.get('active_model') == 'distilbert' %}
                    <i class="bi bi-cpu text-blue-600 mr-2"></i>
                    <span class="font-semibold text-blue-800">ü§ñ AI-Powered: DistilBERT Active</span>
                    <span class="ml-2 text-sm text-blue-600">(GPU-Accelerated)</span>
                {% elif model_info.get('active_model') == 'logistic_regression' %}
                    <i class="bi bi-lightning text-green-600 mr-2"></i>
                    <span class="font-semibold text-green-800">‚ö° Fast & Reliable: Logistic Regression Active</span>
                {% else %}
                    <i class="bi bi-exclamation-triangle text-orange-600 mr-2"></i>
                    <span class="font-semibold text-orange-800">‚ö†Ô∏è Model Loading...</span>
                {% endif %}
            </div>
        </div>
        {% endif %}
    </div>

    <!-- How It Works -->
    <div class="mb-12">
        <div class="text-center mb-8">
            <i class="bi bi-gear text-3xl text-blue-600 mb-4"></i>
            <h2 class="text-2xl font-bold text-gray-900">How It Works</h2>
        </div>
        
        <div class="grid md:grid-cols-4 gap-6">
            <div class="text-center">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                    <span class="text-white text-xl font-bold">1</span>
                </div>
                <h3 class="font-semibold mb-3 text-gray-900">Model Selection</h3>
                <p class="text-sm text-gray-600 leading-relaxed">System automatically chooses DistilBERT (GPU) or Logistic Regression (CPU) based on availability</p>
            </div>
            
            <div class="text-center">
                <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                    <span class="text-white text-xl font-bold">2</span>
                </div>
                <h3 class="font-semibold mb-3 text-gray-900">Text Processing</h3>
                <p class="text-sm text-gray-600 leading-relaxed">Advanced tokenization (DistilBERT) or TF-IDF vectorization (Logistic Regression)</p>
            </div>
            
            <div class="text-center">
                <div class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                    <span class="text-white text-xl font-bold">3</span>
                </div>
                <h3 class="font-semibold mb-3 text-gray-900">AI Analysis</h3>
                <p class="text-sm text-gray-600 leading-relaxed">Transformer attention mechanisms or statistical pattern recognition analyze the content</p>
            </div>
            
            <div class="text-center">
                <div class="bg-gradient-to-br from-orange-500 to-orange-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                    <span class="text-white text-xl font-bold">4</span>
                </div>
                <h3 class="font-semibold mb-3 text-gray-900">Smart Results</h3>
                <p class="text-sm text-gray-600 leading-relaxed">Prediction with confidence score, model attribution, and detailed interpretation</p>
            </div>
        </div>
    </div>

    <!-- Quick Links -->
    <div class="text-center">
        <h2 class="text-xl font-bold mb-6 text-gray-900">Learn More</h2>
        <div class="flex flex-wrap justify-center gap-4">
            <a href="{{ url_for('fake_news.about') }}" 
               class="inline-flex items-center text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 px-4 py-2 rounded-lg transition-colors duration-200">
                <i class="bi bi-info-circle mr-2"></i>
                About Our Model
            </a>
            <a href="{{ url_for('main.index') }}" 
               class="inline-flex items-center text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 px-4 py-2 rounded-lg transition-colors duration-200">
                <i class="bi bi-search mr-2"></i>
                Search News
            </a>
        </div>
    </div>
</div>
{% endblock %}
